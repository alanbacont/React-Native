{"ast":null,"code":"var _jsxFileName = \"/Users/alancontreras/Documents/GitHub/React-Native/src/components/Login.tsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect } from \"react\";\nimport { useReducer } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  validando: true,\n  token: null,\n  username: '',\n  nombre: ''\n};\n\nconst authReducer = (state, action) => {\n  switch (action.type) {\n    case 'logout':\n      return {\n        validando: false,\n        token: null,\n        username: '',\n        nombre: ''\n      };\n\n    case 'login':\n      const {\n        nombre,\n        username\n      } = action.payload;\n      return {\n        validando: false,\n        token: 'MITOKEN1234567890',\n        //username: action.payload.username,\n        //nombre: action.payload.nombre,\n        username,\n        nombre\n      };\n\n    default:\n      return state;\n  }\n};\n\nfunction Login() {\n  _s();\n\n  const [state, dispatch] = useReducer(authReducer, initialState);\n  useEffect(() => {\n    setTimeout(() => {\n      dispatch({\n        type: \"logout\"\n      });\n    }, 2500);\n  }, []);\n\n  const login = () => {\n    dispatch({\n      type: \"login\",\n      payload: {\n        username: \"telepoise\",\n        nombre: \"Alan\"\n      }\n    });\n  };\n\n  const logout = () => {\n    dispatch({\n      type: \"logout\"\n    });\n  };\n\n  if (state.validando) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"AlertInfo_Div\",\n        children: \"Validando Informaci\\xF3n...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }, this), state.token ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-success\",\n      children: [\"Autenticado como: \", state.nombre]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger\",\n      children: \"No Autenticado...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }, this), state.token ? /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-danger\",\n      onClick: logout,\n      children: \"Logout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: login,\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Login, \"bgCdjuTOmPdSBRwTap80EFd9Y3U=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useEffect","useReducer","initialState","validando","token","username","nombre","authReducer","state","action","type","payload","Login","dispatch","setTimeout","login","logout"],"sources":["/Users/alancontreras/Documents/GitHub/React-Native/src/components/Login.tsx"],"sourcesContent":["import { useEffect } from \"react\";\nimport { useReducer } from \"react\";\n\ninterface AuthState {\n    validando: boolean,\n    token: string | null,\n    username: string,\n    nombre: string,\n}\n\nconst initialState = {\n    validando: true,\n    token: null,\n    username: '',\n    nombre: ''\n}\n\ntype LoginPayLoad = {\n    username: string,\n    nombre: string\n}\n\ntype AuthAction = { type: 'logout'} | { type: 'login', payload: LoginPayLoad};\n\nconst authReducer = (state: AuthState, action: AuthAction): AuthState => {\n       switch (action.type) {\n           case 'logout':\n               return {\n                   validando: false,\n                   token: null,\n                   username: '',\n                   nombre: ''\n               }\n           case 'login':\n               const {nombre, username} = action.payload;\n               return {\n                   validando: false,\n                   token: 'MITOKEN1234567890',\n                   //username: action.payload.username,\n                   //nombre: action.payload.nombre,\n                   username,\n                   nombre,\n               }\n           default:\n               return state;\n       }\n}\n\nfunction Login() {\n    const [state, dispatch] = useReducer(authReducer, initialState);\n  \n    useEffect(() => {\n      setTimeout(() => {\n        dispatch({ type: \"logout\" });\n      }, 2500);\n    }, []);\n  \n    const login = () => {\n      dispatch({\n          type: \"login\",\n          payload: {\n              username: \"telepoise\",\n              nombre: \"Alan\"\n          }\n      })\n    }\n  \n    const logout = () => {\n      dispatch({\n          type: \"logout\"\n      })\n    }\n  \n    if (state.validando) {\n      return (\n        <>\n          <h3>Login</h3>\n          <div className=\"AlertInfo_Div\">Validando Informaci√≥n...</div>\n        </>\n      );\n    }\n  \n    return (\n      <>\n        <h3>Login</h3>\n        {state.token ? (\n          <div className=\"alert alert-success\">Autenticado como: {state.nombre}</div>\n        ) : (\n          <div className=\"alert alert-danger\">No Autenticado...</div>\n        )}\n        {state.token ? (\n          <button className=\"btn btn-danger\" onClick={logout}>Logout</button>\n        ) : (\n          <button className=\"btn btn-primary\" onClick={login}>Login</button>\n        )}\n      </>\n    );\n  }\n  \n  export default Login;"],"mappings":";;;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,UAAT,QAA2B,OAA3B;;;AASA,MAAMC,YAAY,GAAG;EACjBC,SAAS,EAAE,IADM;EAEjBC,KAAK,EAAE,IAFU;EAGjBC,QAAQ,EAAE,EAHO;EAIjBC,MAAM,EAAE;AAJS,CAArB;;AAcA,MAAMC,WAAW,GAAG,CAACC,KAAD,EAAmBC,MAAnB,KAAqD;EAClE,QAAQA,MAAM,CAACC,IAAf;IACI,KAAK,QAAL;MACI,OAAO;QACHP,SAAS,EAAE,KADR;QAEHC,KAAK,EAAE,IAFJ;QAGHC,QAAQ,EAAE,EAHP;QAIHC,MAAM,EAAE;MAJL,CAAP;;IAMJ,KAAK,OAAL;MACI,MAAM;QAACA,MAAD;QAASD;MAAT,IAAqBI,MAAM,CAACE,OAAlC;MACA,OAAO;QACHR,SAAS,EAAE,KADR;QAEHC,KAAK,EAAE,mBAFJ;QAGH;QACA;QACAC,QALG;QAMHC;MANG,CAAP;;IAQJ;MACI,OAAOE,KAAP;EAnBR;AAqBN,CAtBD;;AAwBA,SAASI,KAAT,GAAiB;EAAA;;EACb,MAAM,CAACJ,KAAD,EAAQK,QAAR,IAAoBZ,UAAU,CAACM,WAAD,EAAcL,YAAd,CAApC;EAEAF,SAAS,CAAC,MAAM;IACdc,UAAU,CAAC,MAAM;MACfD,QAAQ,CAAC;QAAEH,IAAI,EAAE;MAAR,CAAD,CAAR;IACD,CAFS,EAEP,IAFO,CAAV;EAGD,CAJQ,EAIN,EAJM,CAAT;;EAMA,MAAMK,KAAK,GAAG,MAAM;IAClBF,QAAQ,CAAC;MACLH,IAAI,EAAE,OADD;MAELC,OAAO,EAAE;QACLN,QAAQ,EAAE,WADL;QAELC,MAAM,EAAE;MAFH;IAFJ,CAAD,CAAR;EAOD,CARD;;EAUA,MAAMU,MAAM,GAAG,MAAM;IACnBH,QAAQ,CAAC;MACLH,IAAI,EAAE;IADD,CAAD,CAAR;EAGD,CAJD;;EAMA,IAAIF,KAAK,CAACL,SAAV,EAAqB;IACnB,oBACE;MAAA,wBACE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAEE;QAAK,SAAS,EAAC,eAAf;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAFF;IAAA,gBADF;EAMD;;EAED,oBACE;IAAA,wBACE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,EAEGK,KAAK,CAACJ,KAAN,gBACC;MAAK,SAAS,EAAC,qBAAf;MAAA,iCAAwDI,KAAK,CAACF,MAA9D;IAAA;MAAA;MAAA;MAAA;IAAA,QADD,gBAGC;MAAK,SAAS,EAAC,oBAAf;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QALJ,EAOGE,KAAK,CAACJ,KAAN,gBACC;MAAQ,SAAS,EAAC,gBAAlB;MAAmC,OAAO,EAAEY,MAA5C;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADD,gBAGC;MAAQ,SAAS,EAAC,iBAAlB;MAAoC,OAAO,EAAED,KAA7C;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAVJ;EAAA,gBADF;AAeD;;GAjDMH,K;;KAAAA,K;AAmDP,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}